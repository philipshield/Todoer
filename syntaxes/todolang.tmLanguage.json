{
	"scopeName": "source.todo",
	"name": "todolang",
	"patterns": [
		{ "include": "#non-focus-section"},
		{ "include": "#task-section" }
	],
	"repository": {
		"non-focus-section": {
			"name": "meta.structure.nonfocus.section",
			"begin": "\\([a-zA-Z, ]*nonfocus[a-zA-Z, ]*\\)\n",
			"beginCaptures": { "0": { "name": "section.nonfocus.begin" } },
			"end": "----",
			"endCaptures": { "0": { "name": "section.nonfocus.end" } }
		},
		"task-section": {
			"name": "meta.structure.task.section",
			"patterns": [
				{ "include": "#task"},
				{ "include": "#todo-item"}
			]
		},
		"task": {
			"name": "task",
			"patterns": [
				{ "include": "#task-id"},
				{ "include": "#task-description"}
			]
		},
		"task-id": {
			"name": "task.id",
			"match": "\\(#[a-zA-Z0-9-]+\\)"
		},
		"task-description": {
			"name": "task.description",
			"match": "(\\w)+"
		},
		"todo-item": {
			"begin": "- ",
			"beginCaptures": {
				"0": { "name": "todo.definition.begin" }
			},
			"end": "\n",
			"endCaptures": { "0": { "name": "todo.definition.end" } },
			"name": "meta.structure.todo",
			"patterns": [
				{"comment": "the todo checkbox", "include": "#todo-checkbox"}, 
				{"comment": "the todo type (optional)", "include": "#todo-type"}, 
				{"comment": "the todo description", "include": "#todo-description"},
				{"comment": "todo tags", "include": "#todo-tags"}
			]
		},
		"todo-checkbox": {
			"name": "todo.checkbox",
			"patterns": [
				{"include": "#todo-checkbox-undone" },
				{"include": "#todo-checkbox-done" }
			]
		},
		"todo-checkbox-undone": {
			"name": "todo.checkbox.undone",
			"match": "[ ]"
		},
		"todo-checkbox-done": {
			"name": "todo.checkbox.done",
			"match": "[x]"
		},
		"todo-type": {
			"name": "todo.type",
			"match": "üé®|üêõ|üìÉ|üî•"
		},
		"todo-description": {
			"name": "todo.description",
			"match": "(\\w)+"
		},

		"todo-tags": {
			"begin": "\\(",
			"beginCaptures": { "0": { "name": "todo.tags.begin" } },
			"end": "\\)",
			"endCaptures": { "0": { "name": "todo.tags.end" } },
			"name": "meta.structure.todo.tags",
			"patterns": [
				{ "include": "#todo-tag-important"}
			]
		},
		"todo-tag-important": {
			"name": "todo.tag.important",
			"match": "!important"
		}
	}
}